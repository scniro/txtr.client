var app=angular.module("app",["ui.router","oitozero.ngSweetAlert","angularSpinner"]);app.constant("API","localhost"==document.location.hostname?"http://localhost:2013/api/":"http://atxtr.azurewebsites.net/api/"),app.config(["$stateProvider","$locationProvider","$httpProvider","usSpinnerConfigProvider",function(t,n,e,r){n.html5Mode(!0),r.setDefaults({color:"dodgerblue",radius:20}),e.interceptors.push("HttpInterceptor"),t.state("home",{url:"/",controller:"homeCtrl",controllerAs:"homeCtrl",templateUrl:"views/home.html"})}]),app.run(["txtrFactory","SweetAlert",function(t,n){t.ping().then(function(t){200!==t.status&&n.swal("service down!","we're surely working on it","warning")},function(t){n.swal("service down!","we're surely working on it","warning")})}]),angular.module("app").controller("homeCtrl",["$scope","txtrFactory","SweetAlert",function(t,n,e){var r=this;r.send=function(t){r.textForm.$valid?n.send(t).then(function(t){e.swal("Damn dude!",t.data,"success")},function(t){e.swal("oops!",t.data.Message,"warning")}):e.swal("oops!","this form is invalid","warning")}}]),app.factory("HttpInterceptor",["$q","usSpinnerService",function(t,n){return{request:function(e){return n.spin("spinner"),e||t.when(e)},requestError:function(e){return n.spin("spinner"),t.reject(e)},response:function(e){return n.stop("spinner"),e||t.when(e)},responseError:function(e){return n.stop("spinner"),t.reject(e)}}}]),angular.module("app").factory("txtrFactory",["$http","API",function(t,n){return{ping:function(){return t.get(n+"Text")},send:function(e){return t.post(n+"Text/Send/",'"'+e+'"',{headers:{"Content-Type":"application/json"}})}}}]);